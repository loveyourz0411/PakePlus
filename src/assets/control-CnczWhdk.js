import{_ as N}from"./ctrl-center-select-D8u5Acl8.js";import{_ as C}from"./empty-SobI8E2D.js";import{u as _}from"./util-CASLgOZv.js";import{s as T,r as V,O as z,f,i as s,c as n,z as g,p as F,n as o,a as l,K as S,g as r,G as m,a1 as h,F as j,A as M,a2 as O,a3 as q,M as A,$ as G}from"./index-Dju9e0Mk.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"main-content"},R=["src","onClick"],J={__name:"control",setup(Q){const{appContext:w}=T(),{$message:v}=w.config.globalProperties,B=S(),a=V([]);window.getDBItem("controlList").then(e=>{a.value=e||[]});const b=z();function I(e){b.warning({title:"警告",content:()=>"确认删除吗?",positiveText:"确认",negativeText:"取消",negativeButtonProps:{size:"medium"},positiveButtonProps:{size:"medium"},transformOrigin:"center",autoFocus:!1,onPositiveClick(){a.value.splice(e,1),window.setDBItem("controlList",_.clone(a.value)),v.success("删除成功")}})}function $(){G.prompt("请填写画布名称","新建画布",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:""}).then(({value:e})=>{if(!e)return;if(a.value.some(u=>u.title===e))return v.error("名称重复");const c=_.randomString();a.value.push({title:e,id:c,content:[],thumbnail:"",settings:{}}),window.setDBItem("controlList",_.clone(a.value)),x(c)}).catch(()=>{})}function k(e){window.open(`${location.origin}/preview?id=${e}`)}function x(e){B.push({name:"controlEdit",query:{id:e}})}return(e,t)=>{const c=l("a-button"),u=l("NSpace"),p=l("a-link"),y=l("a-empty"),P=l("a-card"),E=l("a-col"),D=l("a-row");return r(),f("div",K,[t[6]||(t[6]=s("div",{class:"navHeader"},[s("div",{class:"img-box"},[s("img",{src:N})]),s("span",null,"图形控件")],-1)),n(u,{style:{margin:"15px 0"},justify:"end"},{default:o(()=>[n(c,{type:"primary",onClick:$},{default:o(()=>[n(m(h)),t[0]||(t[0]=s("span",{style:{"margin-left":"3px"}},"新建画布",-1))]),_:1})]),_:1}),n(D,{gutter:[20,20],style:{margin:"15px 0"}},{default:o(()=>[(r(!0),f(j,null,M(a.value,(i,L)=>(r(),g(E,{key:i.id,span:8},{default:o(()=>[n(P,{title:i.title,hoverable:""},{extra:o(()=>[n(u,null,{default:o(()=>[n(p,{onClick:d=>k(i.id)},{default:o(()=>[n(m(O)),t[1]||(t[1]=s("span",{style:{"margin-left":"3px"}},"预览",-1))]),_:2},1032,["onClick"]),n(p,{onClick:d=>x(i.id)},{default:o(()=>[n(m(q)),t[2]||(t[2]=s("span",{style:{"margin-left":"3px"}},"编辑",-1))]),_:2},1032,["onClick"]),n(p,{onClick:d=>I(L)},{default:o(()=>[n(m(A)),t[3]||(t[3]=s("span",{style:{"margin-left":"3px"}},"删除",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),default:o(()=>[i.thumbnail?(r(),f("img",{key:0,class:"thumbnail",src:i.thumbnail,onClick:d=>k(i.id)},null,8,R)):(r(),g(y,{key:1,class:"thumbnail"},{image:o(()=>t[4]||(t[4]=[s("img",{src:C},null,-1)])),_:1}))]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1}),a.value.length?F("",!0):(r(),g(y,{key:0,class:"panel-empty"},{image:o(()=>t[5]||(t[5]=[s("img",{src:C},null,-1)])),_:1}))])}}},tt=H(J,[["__scopeId","data-v-a09aaffb"]]);export{tt as default};
