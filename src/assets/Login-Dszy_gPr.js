import{a4 as $,d as x,f,g,i as u,x as h,B as N,a5 as L,k as _,a6 as S,s as B,j as P,r as U,c as l,n as a,a as m,a8 as q,K,G as C,C as O,m as W,N as H,bs as D,bt as R}from"./index-Dju9e0Mk.js";import{L as E}from"./user-UnMz5OIS.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./http-Cr7o0t0N.js";const G=x({name:"IconLock",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const s=L("icon"),i=_(()=>[s,`${s}-lock`,{[`${s}-spin`]:e.spin}]),d=_(()=>{const o={};return e.size&&(o.fontSize=S(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:d,onClick:o=>{t("click",o)}}}}),J=["stroke-width","stroke-linecap","stroke-linejoin"];function T(e,t,s,i,d,r){return g(),f("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:N(e.cls),style:h(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},t[1]||(t[1]=[u("rect",{x:"7",y:"21",width:"34",height:"20",rx:"1"},null,-1),u("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"},null,-1)]),14,J)}var b=$(G,[["render",T]]);const Z=Object.assign(b,{install:(e,t)=>{var s;const i=(s=t==null?void 0:t.iconPrefix)!=null?s:"";e.component(i+b.name,b)}}),A=x({name:"IconUser",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const s=L("icon"),i=_(()=>[s,`${s}-user`,{[`${s}-spin`]:e.spin}]),d=_(()=>{const o={};return e.size&&(o.fontSize=S(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:d,onClick:o=>{t("click",o)}}}}),Q=["stroke-width","stroke-linecap","stroke-linejoin"];function X(e,t,s,i,d,r){return g(),f("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:N(e.cls),style:h(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},t[1]||(t[1]=[u("path",{d:"M7 37c0-4.97 4.03-8 9-8h16c4.97 0 9 3.03 9 8v3a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-3Z"},null,-1),u("circle",{cx:"24",cy:"15",r:"8"},null,-1)]),14,Q)}var y=$(A,[["render",X]]);const Y=Object.assign(y,{install:(e,t)=>{var s;const i=(s=t==null?void 0:t.iconPrefix)!=null?s:"";e.component(i+y.name,y)}}),ee="/assets/login-logo-CubKPD9H.png",te="/assets/login-feiji-D7mn7UHK.png",oe={class:"login"},ne={key:0},se={key:1},re={__name:"Login",setup(e){const{appContext:t}=B(),{$message:s}=t.config.globalProperties,i=q(),d=K(),r=P({userName:"admin",password:"admin123",rememberMe:!0}),o=U(!1),k=JSON.parse(sessionStorage.getItem("loginForm"));k!=null&&k.rememberMe&&Object.assign(r,k);function w(){o.value=!0,E(r).then(c=>{if(o.value=!1,c.code!==200)return s.error(c.errMsg||"登录错误 请重试");const{redirect:n}=i.query||{};D(r),c.userInfo.roleInfo=c.roleInfo,R(c.userInfo),d.replace(n||"/controlPanel")})}return(c,n)=>{const j=m("a-input"),v=m("a-form-item"),z=m("a-input-password"),I=m("a-checkbox"),V=m("a-button"),M=m("a-form");return g(),f("div",oe,[l(M,{model:r,class:"login-form"},{default:a(()=>[n[4]||(n[4]=u("img",{src:ee,style:{width:"100%","aspect-ratio":"357 / 115",margin:"0 0 20px 0"},alt:""},null,-1)),l(v,{field:"userName","hide-label":"",rules:[{required:!0,message:"请输入账号"}],"validate-trigger":["change","input"]},{default:a(()=>[l(j,{modelValue:r.userName,"onUpdate:modelValue":n[0]||(n[0]=p=>r.userName=p),type:"text","auto-complete":"off",placeholder:"账号"},{prefix:a(()=>[l(C(Y))]),_:1},8,["modelValue"])]),_:1}),l(v,{field:"password","hide-label":"",rules:[{required:!0,message:"请输入密码"}],"validate-trigger":["change","input"]},{default:a(()=>[l(z,{modelValue:r.password,"onUpdate:modelValue":n[1]||(n[1]=p=>r.password=p),placeholder:"密码",onKeyup:O(w,["enter"])},{prefix:a(()=>[l(C(Z))]),_:1},8,["modelValue"])]),_:1}),l(v,{field:"password","hide-label":""},{default:a(()=>[l(I,{modelValue:r.rememberMe,"onUpdate:modelValue":n[2]||(n[2]=p=>r.rememberMe=p)},{default:a(()=>n[3]||(n[3]=[W("记住密码")])),_:1},8,["modelValue"])]),_:1}),l(v,{"hide-label":""},{default:a(()=>[l(V,{loading:o.value,type:"primary",style:{width:"100%"},onClick:H(w,["prevent"])},{default:a(()=>[o.value?(g(),f("span",se,"登 录 中...")):(g(),f("span",ne,"立 即 登 录"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),n[5]||(n[5]=u("div",{class:"cover"},null,-1)),n[6]||(n[6]=u("div",{class:"aerok-logo"},null,-1)),n[7]||(n[7]=u("img",{src:te,class:"feiji",alt:"刷新"},null,-1)),n[8]||(n[8]=u("div",{class:"copy-right"},"上海翱坤信息科技有限公司 2023",-1))])}}},de=F(re,[["__scopeId","data-v-36ae0431"]]);export{de as default};
