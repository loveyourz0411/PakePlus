import{a as d,z as k,g as y,n as h,f as C,F as I,A as _,c as m,s as x,O as D,r as P}from"./index-Dju9e0Mk.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as T}from"./case-Dg8WzVaS.js";const w={__name:"dataInfo",props:{data:{type:Array,default:()=>[]},column:{type:Number,default:2},infoColumn:{type:Array,default:()=>[]},title:{type:String,default:"基本信息"}},setup(e){const a=e,f=({item:r})=>r.render?r.render(a.data):a.data[r.key];return(r,p)=>{const c=d("descriptions-item"),s=d("a-descriptions");return y(),k(s,{size:"large",title:e.title,align:"left",column:e.column},{default:h(()=>[(y(!0),C(I,null,_(e.infoColumn,(u,i)=>(y(),k(c,{key:i,label:u.label},{default:h(()=>[m(f,{item:u},null,8,["item"])]),_:2},1032,["label"]))),128))]),_:1},8,["title","column"])}}},A=B(w,[["__scopeId","data-v-b7d94489"]]),E=[{label:"Test ID",key:"tcId"},{label:"用例名称",key:"name"},{label:"用例版本",key:"version"},{label:"测试预估时间",render:e=>e.time?`${e.time}秒`:""},{label:"用例描述",key:"remark"},{label:"最小值",key:"low_limit"},{label:"最大值",key:"high_limit"},{label:"数据类型",key:"dataType"},{label:"单位",key:"units"},{label:"用例代码",key:"code",render:e=>m(d("Code"),{code:e.code||""},null)}],q=[{label:"ID",key:"ID"},{label:"用例组名称",key:"name"}],O=[{label:"任务名称",key:"name"},{label:"任务版本",key:"version"},{label:"下位机IP",key:"IP"},{label:"任务描述",key:"remark"}],S=[{label:"需求名称",key:"Req_Name"},{label:"需求版本",key:"version"},{label:"需求描述",render:e=>e.content||"--"}];function V(){const{appContext:e}=x(),{$message:a}=e.config.globalProperties,f=D();function r(p=[],c={},s,u){const i=P([]),v=c.type===0?1:0;function g(t=p,n=[]){return t.forEach(l=>{var o;l.type===v&&i.value.includes(l.ID)?n.push(l.ID):(o=l.children)!=null&&o.length&&g(l.children,n)}),n}const b=f.create({title:"导入用例",positiveButtonProps:{size:"medium"},negativeButtonProps:{size:"medium"},style:{width:"600px"},transformOrigin:"center",autoFocus:!1,content:()=>m("div",{style:"padding: 25px 0 10px 0"},[m(d("NTreeSelect"),{value:i.value,"onUpdate:value":t=>i.value=t,multiple:!0,cascade:!0,filterable:!0,clearable:!0,checkable:!0,"consistent-menu-width":!1,"max-tag-count":5,"key-field":"ID","label-field":"name",options:p,placeholder:"请选择","get-children":t=>{var n;return(n=t.children)!=null&&n.length?t.children:void 0},"check-strategy":"child","on-load":u},null)]),positiveText:"确认",negativeText:"取消",onPositiveClick(){const t=g();if(!t.length)return a.error("请选择要导入的用例"),!1;const n={Ids:t,type:0,projectId:0,...c};return b.loading=!0,new Promise(l=>{T(n).then(o=>{if(b.loading=!1,o.code!==200)return l(!1),a.error(o.errMsg||"操作失败");s==null||s(),a.success(o.msg||"操作成功"),l(!0)})})}})}return{convertCase:r}}export{E as c,A as d,q as g,S as r,O as t,V as u};
