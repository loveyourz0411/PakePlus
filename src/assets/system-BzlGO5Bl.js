function f(i,n,e){const s=new AbortController,r=s.signal;return fetch("/VIPSystem/api/getMessageValue",{method:"POST",signal:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const o=t.body.getReader();return new ReadableStream({start(d){function u(){o.read().then(({done:h,value:g})=>{if(h){d.close();return}const a=new TextDecoder("utf-8");n==null||n(a.decode(g)),d.enqueue(g),u()}).catch(h=>e==null?void 0:e(h))}u()}})}).catch(t=>e==null?void 0:e(t)),s}function c(i){const n=new AbortController,e=n.signal;return fetch("/VIPSystem/api/sendMessageValue",{method:"POST",signal:e,body:JSON.stringify(i)}).then(s=>{const r=s.body.getReader();return new ReadableStream({start(t){function o(){r.read().then(({done:d,value:u})=>{if(d){t.close();return}t.enqueue(u),o()}).catch(()=>{})}o()}})}).catch(console.error),n}export{f as g,c as s};
