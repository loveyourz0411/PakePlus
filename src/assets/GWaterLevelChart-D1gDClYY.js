import{u as z}from"./useObserverMsg-CMQp4RXz.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{k as _,r as n,t as M,o as S,q as E,a as o,z as v,g as w,bw as F,n as a,c as s,i as g,y as I,U as j,G as b,m as h,p as G,x as H}from"./index-Dju9e0Mk.js";import"./useObserverMsg-mppqzyYd.js";import"./system-BzlGO5Bl.js";import"./categorizeParameters-C40L_2hr.js";const T={__name:"GWaterLevelChart",props:{gridItem:Object},setup(y){const c=y,f=_(()=>c.gridItem.data),l=_(()=>f.value.attrForm),d=n({data:[50],shape:"roundRect",colors:["#409eff","#409eff"]});M(f.value.dataForm,e=>{const t=e.colors||"#409eff";Object.assign(d.value,{colors:[t,t],waveNum:Math.max(1,e.waveNum===void 0?2:e.waveNum),waveHeight:Math.max(1,e.waveHeight===void 0?20:e.waveHeight),waveOpacity:Math.max(0,e.waveOpacity===void 0?.5:e.waveOpacity),formatter:e.formatter===void 0?"{value}%":e.formatter})},{immediate:!0,deep:!0});const m=n(),x=n(),i=n(!0),{time:u,refresh:k}=z(c.gridItem.data.dataForm.parameter,V);function V(e){var r;const t=(r=e==null?void 0:e[0])==null?void 0:r.Engineering_Value;t!==void 0&&(d.value.data[0]=t)}return S(()=>{new ResizeObserver(()=>{i.value=!1,E(()=>{i.value=!0})}).observe(m.value)}),(e,t)=>{const r=o("el-input"),N=o("el-button"),p=o("NSpace"),C=o("dv-water-level-pond"),R=o("el-card");return w(),v(R,{style:H({background:l.value.bgColor||"#fff",borderRadius:"10px"}),shadow:"hover"},F({default:a(()=>[g("div",{ref_key:"waterBoxRef",ref:m,class:"water-box"},[i.value?(w(),v(C,{key:0,ref_key:"waterElRef",ref:x,config:d.value,style:{width:"100%",height:"100%"}},null,8,["config"])):G("",!0)],512)]),_:2},[l.value.hiddenTitle?void 0:{name:"header",fn:a(()=>[s(p,{align:"center",justify:"space-between"},{default:a(()=>[g("b",null,I(l.value.title||"水位图"),1),s(p,null,{default:a(()=>[s(r,{modelValue:b(u),"onUpdate:modelValue":t[0]||(t[0]=O=>j(u)?u.value=O:null),placeholder:"请填写采样频率"},{append:a(()=>t[1]||(t[1]=[h("毫秒")])),_:1},8,["modelValue"]),s(N,{type:"primary",onClick:b(k)},{default:a(()=>t[2]||(t[2]=[h("刷新采样频率")])),_:1},8,["onClick"])]),_:1})]),_:1})]),key:"0"}]),1032,["style"])}}},J=B(T,[["__scopeId","data-v-e6d36177"]]);export{J as default};
