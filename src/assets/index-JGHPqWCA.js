import{_ as x}from"./system-ctrl-select-Em8B5Bdm.js";import{G as h,a as E}from"./dataMonitor-BqNmZQKc.js";import{u as L}from"./useObserverMsg-mppqzyYd.js";import{s as T}from"./system-BzlGO5Bl.js";import{r as I,l as y,f as G,i as t,B as M,c as u,a as k,g as H}from"./index-Dju9e0Mk.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./http-Cr7o0t0N.js";import"./categorizeParameters-C40L_2hr.js";const A={class:"main-content"},B={class:"btns"},F={class:"tables"},$={class:"tab-item"},w={class:"tab-item"},D={class:"tab-item"},O="Fligh_Simulation",_="UserProtocol",j={__name:"index",setup(z){const l=I({Space52_Part4:[],Space55:[],Space52_Part1:[]}),i=I(!1);function p(a){T({once:!0,messageList:[{type:"UserProtocol",MessageName:"VMIC_Control",Parameters:[{Value:a,ParameterName:"Start_Stop"}]}]})}function S(){h().then(async a=>{var g,v;const e=(v=(g=a==null?void 0:a.participant_list)==null?void 0:g.find(o=>o.paticipant_name===O))==null?void 0:v.protocol_list;if(!e)return console.error("GetMessageList FLIGHT_SIM Error");const s={},{pub_message_name:n=[],sub_message_name:r=[]}=e.find(o=>o.protocol_type===_)||{},f=[];for(const o of n.concat(r)){if(!o)continue;const N=await E(o,_),{children_info:d=[]}=N;d==null||d.forEach(m=>{var b;f.push({protocolType:_,MessageName:o,ParamName:m.name}),o&&(s[o]||(s[o]=[]),s[o].push({paramName:m.name,value:((b=m.attributes.find(P=>P.name==="DefaultValue"))==null?void 0:b.value)||""}))})}V(f),l.value=s})}y(S);const{refresh:V}=L(C);function C(a){a==null||a.forEach(e=>{!i.value&&!e.Name.includes("UserProtocol-VMIC_Control")||(e.Name==="UserProtocol-VMIC_Control-Start_Stop"?i.value=e.Engineering_Value==="True":Object.keys(l.value).forEach(s=>{const n=l.value[s];n==null||n.forEach(r=>{e.Name===`UserProtocol-${s}-${r.paramName}`&&(r.paramName==="Data_Status"?r.value=e.Hex_Value:r.value=e.Engineering_Value)})}))})}const c=[{title:"序号",width:60,dataIndex:"index",render({rowIndex:a}){return a+1}},{title:"数据名称 Parameter",width:200,dataIndex:"paramName"},{title:"值 Value",dataIndex:"value"}];return(a,e)=>{const s=k("AeTable");return H(),G("div",A,[e[5]||(e[5]=t("div",{class:"navHeader"},[t("div",{class:"img-box"},[t("img",{src:x})]),t("span",null,[t("span",null,"系统控制 /"),t("span",{class:"child-text"},"VMIC 控制")])],-1)),t("div",B,[t("button",{class:M(["btn",i.value?"green":"grey"]),onClick:e[0]||(e[0]=n=>p(1))}," VMIC启动 ",2),t("button",{class:M(["btn",i.value?"grey":"red"]),onClick:e[1]||(e[1]=n=>p(0))}," VMIC关闭 ",2)]),t("div",F,[t("div",$,[e[2]||(e[2]=t("h3",null,"Space 52 Part4 数据写 ",-1)),u(s,{data:l.value.AeroModel_1,columns:c},null,8,["data"])]),t("div",w,[e[3]||(e[3]=t("h3",null,"Space 55 数据写 ",-1)),u(s,{data:l.value.AeroModel_2,columns:c},null,8,["data"])]),t("div",D,[e[4]||(e[4]=t("h3",null,"Space52 part1 数据读",-1)),u(s,{data:l.value.Engine_Model,columns:c},null,8,["data"])])])])}}},Z=U(j,[["__scopeId","data-v-cca85ce0"]]);export{Z as default};
