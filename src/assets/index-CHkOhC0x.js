import{_ as ce}from"./system-ctrl-select-Em8B5Bdm.js";import{G as _e,a as me}from"./dataMonitor-BqNmZQKc.js";import{u as de}from"./useObserverMsg-mppqzyYd.js";import{s as L}from"./system-BzlGO5Bl.js";import{r as F,l as fe,f as S,i as t,x as Q,F as P,A as x,c as d,n as f,a as H,g as y,B as E,y as M,m as h}from"./index-Dju9e0Mk.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./http-Cr7o0t0N.js";import"./categorizeParameters-C40L_2hr.js";const pe={class:"main-content"},Ce={class:"main"},De={class:"row"},ve={class:"gear-item",style:{width:"auto"}},Ne={class:"content"},Le={class:"gears"},Fe={class:"gears-numbers-a"},Se=["onClick"],ye={class:"gears-numbers-b"},he=["onClick"],Oe={class:"gear-item",style:{width:"auto","margin-left":"200px"}},Ve={class:"content",style:{"justify-content":"center"}},Pe={class:"gears"},xe={class:"gears-numbers-a",style:{width:"95px"}},Ee=["onClick"],Me={class:"panel-item"},Ue={class:"content"},be={class:"left"},Ae={class:"right"},Te={__name:"index",setup(ke){const r=F(0),U=[-102,-59,-17,25,67],O=[0,1,2,3,"FULL"],j=["Gear Up","Gear Down"];let b=[];function A(n,e,a){return new Promise(o=>{const{protocol_list:u=[]}=n.find(l=>l.paticipant_name===e)||{},{pub_message_name:s=[]}=u.find(l=>l.protocol_type===a)||{},_=s==null?void 0:s.length;s==null||s.forEach((l,c)=>{me(l,a).then(se=>{var G;const W=[],w=[],ae={type:a,BusName:l,Words:W};(G=se.children_info)==null||G.forEach(m=>{var B,R,$,I;const p=[];W.push({WordName:m.name,Parameters:p});const oe=(B=m.name)==null?void 0:B.includes("107"),re=(R=m.name)==null?void 0:R.includes("105"),le=($=m.name)==null?void 0:$.includes("106");(I=m.children_info)==null||I.forEach(D=>{var J;w.push({protocolType:a,BusName:l,WordName:m.name,ParamName:D.name});const ie=((J=D.attributes.find(i=>i.name==="DefaultValue"))==null?void 0:J.value)||0,v={ParameterName:D.name,Value:+ie};if(oe){const i=D.name.toLocaleUpperCase();if(i.includes("0")||i.includes("1")||i.includes("2")||i.includes("3")||i.includes("FULL"))return p.push(new Proxy(v,{get(We,ue){return ue==="Value"?i.includes(`${O[r.value]}`)?1:0:Reflect.get(...arguments)}}))}else{if(re)return p.push(new Proxy(v,{get(i,N){return N==="Value"?[0,21,21,21,26.5][r.value]:Reflect.get(...arguments)}}));if(le)return p.push(new Proxy(v,{get(i,N){return N==="Value"?[0,0,19,25,34][r.value]:Reflect.get(...arguments)}}))}p.push(v)})}),c>=_-1&&o({bus:ae,subData:w})})})})}const{refresh:z}=de(q);function q(n){n==null||n.forEach(e=>{switch(e.Name){case"Discrete-PFC_Mode_Switch_1_Auto":g.value=e.Engineering_Value==="True"?"AUTO":"DIRECT";break;case"Discrete-FCS_Maintenance_Switch_1_Maint":C.value=e.Engineering_Value==="True"?"Maintenance":"OFF";break;case"A429-FSECU_1.po429_B_MON-L107_FSCL_Detent_Detent_Command-Detent_Command_0":e.Engineering_Value==="True"&&(r.value=0);break;case"A429-FSECU_1.po429_B_MON-L107_FSCL_Detent_Detent_Command-Detent_Command_1":e.Engineering_Value==="True"&&(r.value=1);break;case"A429-FSECU_1.po429_B_MON-L107_FSCL_Detent_Detent_Command-Detent_Command_2":e.Engineering_Value==="True"&&(r.value=2);break;case"A429-FSECU_1.po429_B_MON-L107_FSCL_Detent_Detent_Command-Detent_Command_3":e.Engineering_Value==="True"&&(r.value=3);break;case"A429-FSECU_1.po429_B_MON-L107_FSCL_Detent_Detent_Command-breakDetent_Command_FULL":e.Engineering_Value==="True"&&(r.value=4);break}})}function K(){_e().then(async({participant_list:n=[]})=>{Promise.all([A(n,"FSECU_1","A429"),A(n,"FSECU_2","A429")]).then(([e,a])=>{b=[e.bus,a.bus],z(e.subData.concat(a.subData).concat(Z))})})}fe(K);function T(n=0){r.value=n,L({once:!0,messageList:JSON.parse(JSON.stringify(b))})}const g=F("AUTO"),C=F("OFF");function X(){const n=[],e=[],a=[];for(let o=0;o<4;o++){const u={type:"Discrete",ParameterName:`PFC_Mode_Switch_${o+1}_Auto`,Value:null},s={type:"Discrete",ParameterName:`PFC_Mode_Switch_${o+1}_Direct`,Value:null};n.push(new Proxy(u,{get(l,c){return console.log("get"),c==="Value"?g.value==="AUTO":Reflect.get(...arguments)}}),new Proxy(s,{get(l,c){return c==="Value"?g.value==="AUTO":Reflect.get(...arguments)}}));const _={type:"Discrete",ParameterName:`FCS_Maintenance_Switch_${o+1}_Maint`,Value:null};e.push(new Proxy(_,{get(l,c){return c==="Value"?C.value==="Maintenance":Reflect.get(...arguments)}})),a.push({protocolType:"Discrete",ParamName:`PFC_Mode_Switch_${o+1}_Auto`},{protocolType:"Discrete",ParamName:`PFC_Mode_Switch_${o+1}_Direct`},{protocolType:"Discrete",ParamName:`FCS_Maintenance_Switch_${o+1}_Maint`})}return{pfcQueryVal:n,fcsQueryVal:e,subList:a}}const{pfcQueryVal:k,fcsQueryVal:Y,subList:Z}=X();console.log(k);function ee(n){g.value=n,L({once:!0,messageList:JSON.parse(JSON.stringify(k))})}function te(n){C.value=n,L({once:!0,messageList:JSON.parse(JSON.stringify(Y))})}const V=F(0);function ne(n){V.value=n,L({once:!0,messageList:[{type:"Discrete",ParameterName:"DO_CONS_MLG_WOW_1",Value:!!n},{type:"Discrete",ParameterName:"DO_CONS_MLG_WOW_2",Value:!!n},{type:"A429",BusName:"po429_A_RDIU09_FSECU",Words:[{WordName:"L275_RDIU_FSECU_CON_WOW_LGCU 1",Parameters:[{ParameterName:"MLG WOW",Value:n?1:0}]}]},{type:"A429",BusName:"po429_A_RDIU09_FSECU",Words:[{WordName:"L275_RDIU_FSECU_CON_WOW_LGCU 2",Parameters:[{ParameterName:"MLG WOW",Value:n?1:0}]}]}]})}return(n,e)=>{const a=H("a-option"),o=H("a-select");return y(),S("div",pe,[e[12]||(e[12]=t("div",{class:"navHeader"},[t("div",{class:"img-box"},[t("img",{src:ce})]),t("span",null,[t("span",null,"系统控制 /"),t("span",{class:"child-text"},"大气仿真")])],-1)),t("div",Ce,[e[4]||(e[4]=t("div",{class:"title-text"},[t("strong",null,"手柄起落架仿真")],-1)),t("div",De,[t("div",ve,[e[1]||(e[1]=t("div",{class:"name-text",style:{margin:"0 auto 85px"}},"手柄",-1)),t("div",Ne,[t("div",Le,[t("div",{class:"handle",style:Q({top:`${U[r.value]}px`})},null,4),t("ul",Fe,[(y(),S(P,null,x(O,(u,s)=>t("li",{key:s,class:E([r.value===s&&"crt-gear"]),onClick:_=>T(s)},M(u),11,Se)),64))]),e[0]||(e[0]=t("div",{class:"middle-box"},null,-1)),t("ul",ye,[(y(),S(P,null,x(O,(u,s)=>t("li",{key:s,class:E([r.value===s&&"crt-gear"]),onClick:_=>T(s)},M(u),11,he)),64))])])])]),t("div",Oe,[e[3]||(e[3]=t("div",{class:"name-text",style:{margin:"0 auto 85px"}},"LANDING / GEAR",-1)),t("div",Ve,[t("div",Pe,[t("div",{class:"handle",style:Q({top:`${U[V.value]}px`,left:"69%"})},null,4),t("ul",xe,[(y(),S(P,null,x(j,(u,s)=>t("li",{key:s,class:E([V.value===s&&"crt-gear"]),onClick:_=>ne(s)},M(u),11,Ee)),64))]),e[2]||(e[2]=t("div",{class:"middle-box"},null,-1))])])])])]),t("div",Me,[e[11]||(e[11]=t("div",{class:"title"}," P F C P ",-1)),t("div",Ue,[t("div",be,[e[7]||(e[7]=t("div",{style:{margin:"20px 0"}}," PFC MODE ",-1)),d(o,{"model-value":g.value,onChange:ee},{default:f(()=>[d(a,null,{default:f(()=>e[5]||(e[5]=[h("AUTO")])),_:1}),d(a,null,{default:f(()=>e[6]||(e[6]=[h("DIRECT")])),_:1})]),_:1},8,["model-value"])]),t("div",Ae,[e[10]||(e[10]=t("div",{style:{margin:"20px 0"}}," FCS MAINTENANCE ",-1)),d(o,{"model-value":C.value,onChange:te},{default:f(()=>[d(a,null,{default:f(()=>e[8]||(e[8]=[h("Maintenance")])),_:1}),d(a,null,{default:f(()=>e[9]||(e[9]=[h("OFF")])),_:1})]),_:1},8,["model-value"])])])])])}}},He=ge(Te,[["__scopeId","data-v-679b17b9"]]);export{He as default};
