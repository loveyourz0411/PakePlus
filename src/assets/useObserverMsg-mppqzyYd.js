import{g as h}from"./system-BzlGO5Bl.js";import{c as A}from"./categorizeParameters-C40L_2hr.js";import{r as l}from"./index-Dju9e0Mk.js";function N(i,u=500){const s=l(null),t=l(u);let o="";const a=/\[[^[\]]*\{[^{}]*\}[^[\]]*\]/g,c=()=>{s.value&&(s.value.abort(),s.value=null)},f=r=>{try{const e=o+r,n=e.match(a);n?(n.forEach(m=>{try{i(JSON.parse(m))}catch(g){console.warn("JSON parse error:",g)}}),o=e.replace(a,"")):o=e}catch(e){console.error("Data processing error:",e),o+=r}};return{time:t,refresh:r=>{if(c(),!r||Array.isArray(r)&&r.length===0)return;const e=Array.isArray(r)?r:[r];s.value=h({time:Number(t.value),messageList:A(e)},f)},abort:c}}export{N as u};
