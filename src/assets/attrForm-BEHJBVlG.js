import{g as I,i as N,f as R}from"./index-DAi3yp0Q.js";import{d as m,r as C,k as E,t as K,c as n,a as i,m as f,D as p}from"./index-Dju9e0Mk.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./util-CASLgOZv.js";function v(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!p(l)}const w=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAkCAYAAADl9UilAAAAAXNSR0IArs4c6QAAA1hJREFUWEfNmE9IFHEUx79vVixDom7qoT8EBQXVzh4KxdLICLzUwQ79kV09FVntjhjUpUNBlOtGWUHgzlRQZNEtI0rDVIhgdyPqIFEXy0NF/xZS0p0XM7trujO7M7OusHOc3/u99+H9+/1+j+Dwu/bm8PKJqclGEBoYvAJMlQCqiEAAjzMwDmDMBddTXoRHgQ093x2a0MXJ7qbOWOseqGobgG0Al9jbR9MEDAngbr9HeWhvT1LKEiwUa61RWb3AzNVOFGfKEvCSStAR2KQM2dGTFayXe12foo+DKvi4HUV2ZYioW3Sv9NfTmelce0zBQrETy1T15z0Gdtk16ESOCP1lJWVNRzZe/5FtnwFMg0rwrxEwr3dizLksjQqLhepsxTEHTAvfWLSvb6E8Zcg7Qr/oXrXbLKxzwLoivkuFzikrTxJwVfIoR02KJflLq76Emhi2UrQQ6wJRXUCUB2frnvFYMOobmW9LyBeaCK8kUdliAOt63bJXTaiOGqBTCCK8A+gDmBsZcBlCJ2Cf5Fbup//rHgtGfAMMrndqzLa8QKF2txzQbUW9J5lx3rCX8KJdVLbPgGln35+pyS/2jxnbOEnBWVA6WMzbxCp6TZI9weWlFe3rbnzT1igUbT2U4MQth+bsiWdAXX7ftvRvPD4IxmYzBSQIPskdVnSwYNR3k5mb7VmyL0UkdEliWErv0KCmfsefMLA1mxYiuiuJ8n4drDPqfQ5GXRbhSRLoAZhXM6PGLlY+UDoMaFjyyLUpj3lHmbHWzKggCB0Bd/hiqkBOM/isFVy+UCmwj5JHXpMOZZyZy80MusjV7Bd7bqfXghFfTrj5QCXBMCF5lCWWYACNlhJqj4nyVyu4+UKZgGUPZRKG3pYSduSCKwSUIZQWyZ9ylBGuM+Y9BRXnCgVlkvx224URLhRt2ekXw8+ctIRcxUNEdyRRPpDMsYjvIINnEjx31RnhCgWl6RFALQGPLOtgzo8kI5yd5mnZZoC5R1KqRzk8xP/DFQIqWWMZh7j2L59rDxE+MzAARgOACiuPWK2T2bVH91oxXhQ1sKK9WushLcbHiAZWtM+3ZEiL8MGbrpyiHBGk4YpyqDK75xTdGCqzIeY7uAPxsItxpeCDu0zAzFEnAVXMVFnoUec/FSAJQ+OAM+4AAAAASUVORK5CYII=",import.meta.url).href,O=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAA3ZJREFUWEfNmDtoFUEUhv9/b2yCIjYWFjYBG6ud1UITgyiioGKagOCjt1CiEk18JNGg5oGJRhBbFURIoaKCID7QqIXubGWhYGNhYSM+sJDcOTLr3s1ubry7GxO8Awv3snPOfHvmPOYMUXBIS8sS/Py5FSKbACwHsCx6rKZP0fMR5EM0Nt7nxMSXIksw72RZtWoHjDkAoBUiDbnkyEkAz+A4Y3zz5k4emUwgcd01AIYBNOdRWGPOCwCdDIJXtfT8FUja20v48GEYIgf/ESQtTo6iqamT4+PlmfTOCCSetxgiNyGyZU5hKsrIByB30ve/TtdfBRTCGGPNu3JeYKaUvoXjNE+HSgFF23Rv3ixTZQ4+QFPTtuT2pYGUGplzn8kyMzlKrQ/Fu1n5EUXTyyz5eXnf0NDM16/DtWMLietOzEFoz5b3BYOgJQYSz2uDMbdqaiPvolQaQLncDpGOXCuT1wHcANABkc01ZUqlNps8QwuJUo8gsiEDqJVaPw/nu+5RAAMZ84ep9ZFovk2utd2BfEytNzKqTZ8zy4HjXKHv70v4XC2oAQZBd2LuOQBdGR8wicbGpRSldkPEmjZ7kKeodV+8kOd1wRi72NQgz1Lr4wmY/QDGspVbj+YeiuteBbA3l0Dodeyj1qcSUN0w5mz0v59B0BO/U8r6zmhu3cA1C/QEwPoCQoDj9NL3TycWPgZgQQrUdW1uOV9IL/DUAr0DsKKgYBVUUl6U6oTIUGGdwHsL9B3AwlkIW6ge+n5/CmYmv8qv/Id16m8QWZRfJjWzi0EwmAJy3RMAUpC5dZPfZ79l5BFqbQ9uVUM87ySMiX0sN1C0ZcWdGjjMIBhJOLVNBb+odSXaIJ7XA2PiaMwJFTp1sbB3nA76/sVE2PfDGLtNNiUcT0Ep1QuROG/lgLpWLDECBxgElxKWOQMRG/JTw3GO0ffjZClK9UGkNwdMlBj/tDXZpQNIlwPPG4AxtnxUD8fppu/HtU5c9zKAuOzMKGM7FFs67MtcxRVYW+kYRKkhiHRmfHUcgaLUOog8qzm/UlxDINtzlcu3swRADsKYXblLDXkBpdI4yuUuiGyvqT95/Aih6umAFgKtXr0Wk5O22/gfI3aH+j3kh1b6063WTxsUQtVTo5jIvvXTSsdQ9XTZkAyzKPrsYev/XsdMj/26ubCqApvnK73fHuClI1+Z9V0AAAAASUVORK5CYII=",import.meta.url).href,Q=m({props:["crtNode","formItems","inlineMsg","isCreate"],setup(l){const u=C(""),o=E(()=>({...(l.isCreate?l.crtNode:l.crtNode.data)||{}}));let g=[],b={};K(()=>l.crtNode,t=>{!t||!t.key||(u.value=t?I(t.tagName).nameKey:"",g=N(t.originKey||t.key,t.tagName),[{parentNode:b}]=R([t.originKey||t.key]))},{immediate:!0});const y=C(null);function U(t,e){const a=l.isCreate?l.crtNode:l.crtNode.data||o.value,A=JSON.parse(JSON.stringify(a)),r=e.label;if(a[`_${r}`]=t,!t&&Reflect.deleteProperty(a,`_${r}`),e.change&&e.change(a,A),!l.isCreate&&["DisplayName",u.value].includes(r)){const d=a._DisplayName||a[`_${u.value}`]||"(value)";l.crtNode.label=d,r===u.value&&g.forEach(c=>{c.data[`_${r}`]=t})}}function M(t){if(l.isCreate)return{errMsg:"",color:"white"};const e=o.value[`_${t.label}`];if(t.required&&!e)return{errMsg:`${t.title||t.label} 必须填写`,color:"white"};const a={errMsg:"",color:"white"};return t.validator?t.validator(o.value,{...l.crtNode,parent:b})(null,e,(A,r)=>{a.color=r||(A?"red":"green"),A&&(a.errMsg=A.message)}):a.color=e?"green":"white",a}return()=>{let t;return n(i("ElForm"),{ref:y.value,props:o.value,"label-width":"35%","label-position":"left","status-icon":!0},v(t=l.formItems.map(e=>{let a;if(e.vIf&&e.vIf(o.value))return"";const A=e.disabled?e.disabled(o.value,l.isCreate):!1,r=M(e),d=r.color==="green"?w:O,c=Object.prototype.toString.call(e.options)==="[object Function]"?e.options():e.options;return n(i("ElFormItem"),{label:e.title||e.label,error:r.errMsg,class:[l.inlineMsg?"inline-form":""]},{default:()=>[e.required?n("div",{class:"requiredText"},[f(" 必填项 ")]):n("div",{style:"width: 62px;"},null),e.type==="select"?n(i("ElSelect"),{modelValue:o.value[`_${e.label}`],"onUpdate:modelValue":s=>o.value[`_${e.label}`]=s,disabled:A,style:"width: 300px",clearable:!0,onChange:s=>U(s,e)},v(a=c.map(s=>n(i("ElOption"),{label:s,value:s},null)))?a:{default:()=>[a]}):n(i("ElInput"),{modelValue:o.value[`_${e.label}`],"onUpdate:modelValue":s=>o.value[`_${e.label}`]=s,disabled:A,style:"width: 300px",onInput:s=>U(s,e)},null),n("div",{class:"box"},[f(" "),["green","red"].includes(r.color)?n("img",{src:d},null):"",f(" ")])]})}))?t:{default:()=>[t]})}}}),x=G(Q,[["__scopeId","data-v-911124b1"]]);export{x as default};
